{
    "name": "earnings-table-ubuntu",
    "version": "1.0.0",
    "description": "Modern Earnings Table with Next.js, Node.js, and PostgreSQL",
    "private": true,
    "scripts": {
        "dev": "next dev -p 3000",
        "prebuild:parity": "node scripts/assert-parity.js",
        "build": "npm run prebuild:parity && node scripts/build-check.js && next build",
        "build:production": "node scripts/build-production.js",
        "start": "next start -p 3001",
        "start:prod": "next start -p 3000",
        "parity:check": "node scripts/parity-check.js",
        "deploy:prod": "bash ./deploy-production.sh",
        "rollback:prod": "bash ./rollback-production.sh",
        "alert:check": "node scripts/alert-webhook.js",
        "smoke:test": "node scripts/smoke-test.js",
        "sanity:check": "node scripts/production-sanity-check.js",
        "pm2:runbook": "node scripts/pm2-runbook.js",
        "incident:response": "node scripts/incident-response.js",
        "backup": "node scripts/backup.js",
        "process:prices": "dotenv -e .env -- tsx scripts/process-prices-simple.ts",
        "process:epsrev": "dotenv -e .env -- tsx scripts/process-epsrev.ts",
        "publish:attempt": "dotenv -e .env -- npx tsx scripts/watchdog.ts --once",
        "cron": "node src/queue/worker-new.js",
        "job:fetch": "dotenv -e .env -- tsx src/jobs/fetch-today.ts",
        "smoke": "dotenv -e .env -- tsx scripts/smoke-cron-today.ts",
        "lint": "next lint",
        "lint:fix": "next lint --fix",
        "lint:jsx-return": "bash scripts/check-return-jsx.sh",
        "diagnose": "node quick-diagnose.js",
        "monitor": "bash scripts/monitor-zero-changes.sh",
        "test:calc-change": "jest src/__tests__/calc-change.test.ts",
        "db:generate": "prisma generate",
        "db:push": "prisma db push",
        "db:migrate": "prisma migrate dev",
        "db:deploy": "dotenv -e .env.local -- npx prisma migrate deploy || dotenv -e .env.local -- npx prisma db push",
        "db:studio": "prisma studio",
        "fetch:data": "tsx src/jobs/fetch-today.ts",
        "fetch": "node scripts/fetch-data-now.js",
        "fetch-and-cron": "node scripts/fetch-data-now.js && node src/queue/worker-new.js",
        "test": "jest",
        "test:watch": "jest --watch",
        "test:all": "node scripts/run-tests.js",
        "test:cron": "jest src/__tests__/cron.test.js",
        "test:api": "jest src/__tests__/api-calls.test.js",
        "test:database": "jest src/__tests__/database.test.js",
        "test:endpoints": "jest src/__tests__/api-endpoints.test.js",
        "test:frontend": "jest src/__tests__/frontend.test.js",
        "test:integration": "jest src/__tests__/integration.test.js",
        "snapshot:create": "node scripts/shape-compare.js create",
        "snapshot:compare": "node scripts/shape-compare.js compare",
        "publish:static": "tsx scripts/publish-static.ts",
        "publish:database": "tsx scripts/publish-database-earnings.ts",
        "fetch:market:enhanced": "tsx scripts/fetch-market-data-enhanced.ts",
        "health:check": "curl http://localhost:3000/api/health",
        "daily:automation": "tsx scripts/daily-automation.ts",
        "worker:prices": "tsx src/workers/prices.worker.ts",
        "worker:epsrev": "tsx src/workers/epsrev.worker.ts",
        "enqueue:prices": "tsx scripts/enqueue-prices.ts",
        "enqueue:epsrev": "tsx scripts/enqueue-epsrev.ts",
        "watchdog": "tsx scripts/watchdog.ts",
        "cron:start": "tsx scripts/cron-scheduler.ts",
        "watchdog:start": "tsx scripts/watchdog.ts",
        "batch:prices": "tsx -e \"import { processPricesBatch } from './src/workers/batch-processor'; processPricesBatch(['AAPL', 'MSFT'], '2025-10-08').then(() => process.exit(0))\"",
        "batch:epsrev": "tsx -e \"import { processEpsRevBatch } from './src/workers/batch-processor'; processEpsRevBatch(['AAPL', 'MSFT'], '2025-10-08').then(() => process.exit(0))\"",
        "redis:start": "node scripts/redis-server.js"
    },
    "dependencies": {
        "@prisma/client": "5.22.0",
        "@tanstack/react-table": "8.10.0",
        "@tanstack/react-virtual": "3.13.12",
        "autoprefixer": "10.4.0",
        "axios": "1.6.0",
        "bull": "^4.12.0",
        "bullmq": "^5.61.0",
        "clsx": "2.1.1",
        "date-fns": "^4.1.0",
        "date-fns-tz": "^3.2.0",
        "dayjs": "^1.11.18",
        "dotenv": "17.2.2",
        "ioredis": "^5.8.1",
        "lru-cache": "10.2.0",
        "lucide-react": "0.294.0",
        "next": "15.0.0",
        "node-cron": "4.2.1",
        "node-fetch": "3.3.2",
        "postcss": "8.4.0",
        "prisma": "5.22.0",
        "react": "18.2.0",
        "react-dom": "18.2.0",
        "recharts": "2.8.0",
        "swr": "2.2.0",
        "tailwind-merge": "2.0.0",
        "tailwindcss": "3.3.0",
        "zod": "^4.1.11"
    },
    "devDependencies": {
        "@testing-library/jest-dom": "6.0.0",
        "@testing-library/react": "14.0.0",
        "@types/node": "20.19.18",
        "@types/react": "18.3.25",
        "@types/react-dom": "18.2.0",
        "dotenv-cli": "^7.4.4",
        "eslint": "8.0.0",
        "eslint-config-next": "15.0.0",
        "jest": "29.0.0",
        "jest-environment-jsdom": "30.1.2",
        "tsx": "4.0.0",
        "typescript": "5.9.2"
    }
}
