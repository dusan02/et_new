🚀 MANUÁLNY DEPLOYMENT - PRESNÉ SSH PRÍKAZY
=====================================================

Heslo servera: EJXTfBOG2t
Server: 89.185.250.213

📋 POSTUPNOSŤ PRÍKAZOV:

1️⃣ Pripojenie na server:
ssh root@89.185.250.213

2️⃣ Prejdite do projektového adresára:
cd /var/www/earnings-table

3️⃣ Skontrolujte aktuálny stav Git:
git status

4️⃣ Resetujte lokálne zmeny:
git reset --hard HEAD
git clean -fd

5️⃣ Stiahnite najnovšie zmeny z GitHub:
git fetch origin
git reset --hard origin/main

6️⃣ Skontrolujte, že máte najnovšiu verziu:
git log --oneline -5

7️⃣ Zastavte aplikáciu:
docker-compose -f deployment/docker-compose.yml down

8️⃣ Rebuildte aplikáciu s novým kódom:
docker-compose -f deployment/docker-compose.yml build --no-cache app

9️⃣ Spustite aplikáciu:
docker-compose -f deployment/docker-compose.yml up -d

🔟 Počkajte 30 sekúnd a skontrolujte status:
sleep 30
docker-compose -f deployment/docker-compose.yml ps

1️⃣1️⃣ Testujte API endpoint:
curl http://localhost:3000/api/earnings

1️⃣2️⃣ Skontrolujte logy (ak je problém):
docker-compose -f deployment/docker-compose.yml logs app

=====================================================

🎯 OČAKÁVANÉ VÝSLEDKY:

✅ Git log by mal obsahovať váš posledný commit:
   "Fix TypeScript interface inconsistency"
   "Fix mobile view: EPS/REV estimates and actuals now display correctly"

✅ Docker PS by mal ukázať:
   - app container: Up
   - db container: Up  
   - redis container: Up (ak používate)

✅ API test by mal vrátiť status 200 a JSON s earnings dátami

=====================================================

🌐 PO DOKONČENÍ:
Otvorte https://www.earningstable.com v prehliadači
- Prepnite na mobilný view (F12 → device toolbar)
- Skontrolujte, či sa zobrazujú EPS/REV Est/Act hodnoty namiesto "-"

📞 AK SÁ PROBLÉMY:
- Skontrolujte logy: docker-compose -f deployment/docker-compose.yml logs app
- Reštartujte len app: docker-compose -f deployment/docker-compose.yml restart app
- Kompletný restart: docker-compose -f deployment/docker-compose.yml down && docker-compose -f deployment/docker-compose.yml up -d
